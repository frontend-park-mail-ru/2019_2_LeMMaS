!function(e){var n={};function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(n){return e[n]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=30)}([function(e,n,t){"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=function(e,n){var t=e[1]||"",r=e[3];if(!r)return t;if(n&&"function"==typeof btoa){var i=(s=r,a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(l," */")),o=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot).concat(e," */")}));return[t].concat(o).concat([i]).join("\n")}var s,a,l;return[t].join("\n")}(n,e);return n[2]?"@media ".concat(n[2],"{").concat(t,"}"):t})).join("")},n.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];null!=o&&(r[o]=!0)}for(var s=0;s<e.length;s++){var a=e[s];null!=a[0]&&r[a[0]]||(t&&!a[2]?a[2]=t:t&&(a[2]="(".concat(a[2],") and (").concat(t,")")),n.push(a))}},n}},function(e,n){var t={},r=function(e){var n;return function(){return void 0===n&&(n=e.apply(this,arguments)),n}},i=r((function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())})),o=r((function(){return document.head||document.getElementsByTagName("head")[0]})),s=null,a=0,l=[];function c(e,n){for(var r=0;r<e.length;r++){var i=e[r],o=t[i.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](i.parts[s]);for(;s<i.parts.length;s++)o.parts.push(h(i.parts[s],n))}else{var a=[];for(s=0;s<i.parts.length;s++)a.push(h(i.parts[s],n));t[i.id]={id:i.id,refs:1,parts:a}}}}function u(e){for(var n=[],t={},r=0;r<e.length;r++){var i=e[r],o=i[0],s={css:i[1],media:i[2],sourceMap:i[3]};t[o]?t[o].parts.push(s):n.push(t[o]={id:o,parts:[s]})}return n}function p(e,n){var t=o(),r=l[l.length-1];if("top"===e.insertAt)r?r.nextSibling?t.insertBefore(n,r.nextSibling):t.appendChild(n):t.insertBefore(n,t.firstChild),l.push(n);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");t.appendChild(n)}}function f(e){e.parentNode.removeChild(e);var n=l.indexOf(e);n>=0&&l.splice(n,1)}function d(e){var n=document.createElement("style");return n.type="text/css",p(e,n),n}function h(e,n){var t,r,i;if(n.singleton){var o=a++;t=s||(s=d(n)),r=g.bind(null,t,o,!1),i=g.bind(null,t,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(t=function(e){var n=document.createElement("link");return n.rel="stylesheet",p(e,n),n}(n),r=_.bind(null,t),i=function(){f(t),t.href&&URL.revokeObjectURL(t.href)}):(t=d(n),r=v.bind(null,t),i=function(){f(t)});return r(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;r(e=n)}else i()}}e.exports=function(e,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");void 0===(n=n||{}).singleton&&(n.singleton=i()),void 0===n.insertAt&&(n.insertAt="bottom");var r=u(e);return c(r,n),function(e){for(var i=[],o=0;o<r.length;o++){var s=r[o];(a=t[s.id]).refs--,i.push(a)}e&&c(u(e),n);for(o=0;o<i.length;o++){var a;if(0===(a=i[o]).refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete t[a.id]}}}};var m,b=(m=[],function(e,n){return m[e]=n,m.filter(Boolean).join("\n")});function g(e,n,t,r){var i=t?"":r.css;if(e.styleSheet)e.styleSheet.cssText=b(n,i);else{var o=document.createTextNode(i),s=e.childNodes;s[n]&&e.removeChild(s[n]),s.length?e.insertBefore(o,s[n]):e.appendChild(o)}}function v(e,n){var t=n.css,r=n.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}function _(e,n){var t=n.css,r=n.sourceMap;r&&(t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([t],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(i),o&&URL.revokeObjectURL(o)}},function(e,n,t){var r=t(3);"string"==typeof r&&(r=[[e.i,r,""]]);t(1)(r,{});r.locals&&(e.exports=r.locals)},function(e,n,t){(e.exports=t(0)(!1)).push([e.i,".header {\n    height: 14vh;\n    display: flex;\n}\n",""])},function(e,n,t){var r=t(5);"string"==typeof r&&(r=[[e.i,r,""]]);t(1)(r,{});r.locals&&(e.exports=r.locals)},function(e,n,t){(e.exports=t(0)(!1)).push([e.i,".logo {\n    padding: 1em;\n}\n\n.logo__image {\n    max-height: 10vh;\n}\n",""])},function(e,n,t){var r=t(7);"string"==typeof r&&(r=[[e.i,r,""]]);t(1)(r,{});r.locals&&(e.exports=r.locals)},function(e,n,t){(e.exports=t(0)(!1)).push([e.i,".anchorImg__position-absolute {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n}\n",""])},function(e,n,t){var r=t(9);"string"==typeof r&&(r=[[e.i,r,""]]);t(1)(r,{});r.locals&&(e.exports=r.locals)},function(e,n,t){(e.exports=t(0)(!1)).push([e.i,".anchorImg__wrapper {\n    position: relative;\n    display: flex;\n}\n",""])},function(e,n,t){var r=t(11);"string"==typeof r&&(r=[[e.i,r,""]]);t(1)(r,{});r.locals&&(e.exports=r.locals)},function(e,n,t){(e.exports=t(0)(!1)).push([e.i,".button {\n    text-align: center;\n    padding: 1em;\n    background-color: white;\n    border: 1px solid transparent;\n    color: #0b1233;\n    font-family: Futura, serif;\n    transition: all 0.3s ease-in-out;\n    text-decoration: none;\n    cursor: pointer;\n    font-size: 1em;\n}\n\n.button:hover {\n    transition: all 0.3s ease-in-out;\n    background-color: #ffffff42;\n    color: white;\n}\n\n.button__color-gold {\n    background-color: gold;\n}\n\n.button__color-lavender {\n    background-color: #c1a8fe;\n}\n\n.button__color-red {\n    background-color: crimson;\n}\n\n.button__color-violet {\n    background-color: #9025a9;\n    color: white;\n}\n\n.button__color-yellow {\n    background-color: #e8d62b;\n}\n\n.button__position-absolute {\n    position: absolute;\n    width: -webkit-fill-available;\n}\n\n.button__size-big {\n    font-size: 1.1em;\n}\n\n.button__transparency-transparent {\n    background-color: transparent;\n    color: white;\n    border-color: white;\n}\n\n.button__transparency-transparent:hover {\n    background-color: white;\n    color: #0b1233;\n}\n",""])},function(e,n,t){var r=t(13);"string"==typeof r&&(r=[[e.i,r,""]]);t(1)(r,{});r.locals&&(e.exports=r.locals)},function(e,n,t){(e.exports=t(0)(!1)).push([e.i,".menu {\n    height: auto;\n    padding: 1em;\n    width: 20%;\n    display: flex;\n    margin: auto 0 auto auto;\n    justify-content: space-evenly;\n}\n",""])},function(e,n,t){var r=t(15);"string"==typeof r&&(r=[[e.i,r,""]]);t(1)(r,{});r.locals&&(e.exports=r.locals)},function(e,n,t){(e.exports=t(0)(!1)).push([e.i,'* {\n    box-sizing: border-box;\n}\n\n.body {\n    font-family: Futura;\n    margin: 0;\n    height: 100vh;\n    background-color: #405ef3;\n    background-image: url("/static/assets/img/back.jpg");\n    max-height: 100vh;\n    overflow: hidden;\n    background-position: center;\n    background-size: cover;\n}\n\na,\nbutton {\n    transition: all 0.3s ease-in-out;\n    color: white;\n}\n\na:hover,\nbutton:hover {\n    color: gold;\n    transition: all 0.3s ease-in-out;\n}\n',""])},function(e,n,t){var r=t(17);"string"==typeof r&&(r=[[e.i,r,""]]);t(1)(r,{});r.locals&&(e.exports=r.locals)},function(e,n,t){(e.exports=t(0)(!1)).push([e.i,".content {\n    height: 86vh;\n    display: flex;\n}\n\n.plate {\n    width: 20%;\n    background: /*linear-gradient(#405ef3, #b4639e);*/ #0b1233bd;\n    border: 1px solid white;\n    padding: 2em;\n    color: white;\n    margin: auto;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-evenly;\n}\n\n.plate__size-big {\n    width: 35%;\n}\n\n.start-game-menu {\n    height: 80vh;\n}\n\n.text__align-center {\n    text-align: center;\n}\n.text__size-big {\n    font-size: 3em;\n}\n.text__size-normal {\n    font-size: 2em;\n}\n\n@media (min-width: 1025px) and (max-width: 1280px) {\n    .text__size-normal {\n        font-size: 1em;\n    }\n}\n\n@media (min-width: 768px) and (max-width: 1024px) {\n    .text__size-normal {\n        font-size: 1em;\n    }\n}\n\n\n@media (max-height: 800px) {\n    .text__size-big {\n        font-size: 1.5em;\n    }\n}\n\n",""])},function(e,n,t){var r=t(19);"string"==typeof r&&(r=[[e.i,r,""]]);t(1)(r,{});r.locals&&(e.exports=r.locals)},function(e,n,t){(e.exports=t(0)(!1)).push([e.i,".leaderboard {\n    border: 1px solid;\n    overflow: scroll;\n    padding: 0 1em;\n    position: relative;\n    max-height: 50vh;\n}\n\n.leaderboard__player-me {\n    font-size: 1.1em;\n    font-weight: bold;\n}\n",""])},function(e,n,t){var r=t(21);"string"==typeof r&&(r=[[e.i,r,""]]);t(1)(r,{});r.locals&&(e.exports=r.locals)},function(e,n,t){(e.exports=t(0)(!1)).push([e.i,".userAchievement {\n    display: flex;\n    justify-content: space-between;\n    border-bottom: 1px solid;\n}\n",""])},function(e,n,t){var r=t(23);"string"==typeof r&&(r=[[e.i,r,""]]);t(1)(r,{});r.locals&&(e.exports=r.locals)},function(e,n,t){(e.exports=t(0)(!1)).push([e.i,".userPicName {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    height: 40%;\n}\n\n.userPicName__name {\n    margin: auto;\n    font-size: 1.5em;\n}\n\n.userPicName__img {\n    width: 100px;\n    height: 100px;\n    object-fit: cover;\n    margin: auto;\n}\n\n.userPicName__img:hover {\n    opacity: 0.8;\n}\n",""])},function(e,n,t){var r=t(25);"string"==typeof r&&(r=[[e.i,r,""]]);t(1)(r,{});r.locals&&(e.exports=r.locals)},function(e,n,t){(e.exports=t(0)(!1)).push([e.i,".form {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-evenly;\n    height: auto;\n}\n\n.form__size-big input,\n.form__size-big button {\n    font-size: 1.1em;\n}\n\n.form__error\n{\n    color: red;\n    font-size: 0.8em;\n    margin-top: 0.1em;\n    margin-bottom: 1em;\n    visibility: hidden;\n    transition: all 0.3s ease-in-out;\n}\n\n",""])},function(e,n,t){var r=t(27);"string"==typeof r&&(r=[[e.i,r,""]]);t(1)(r,{});r.locals&&(e.exports=r.locals)},function(e,n,t){(e.exports=t(0)(!1)).push([e.i,".form__field {\n    padding: 1em;\n    border-color: transparent;\n    width: 100%;\n}\n\n.form__field.button {\n    margin-top: 10px;\n}\n\n.form__field-wrapper {\n    position: relative;\n    margin-top: 10px;\n}\n",""])},function(e,n,t){var r=t(29);"string"==typeof r&&(r=[[e.i,r,""]]);t(1)(r,{});r.locals&&(e.exports=r.locals)},function(e,n,t){(e.exports=t(0)(!1)).push([e.i,".form__field__label {\n    display: inline-block;\n    margin-bottom: 10px;\n}\n",""])},function(e,n,t){"use strict";t.r(n);var r,i,o=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),s=(r=["",""],i=["",""],Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(i)}})));var a=function(){function e(){for(var n=this,t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.tag=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return"function"==typeof e?n.interimTag.bind(n,e):"string"==typeof e?n.transformEndResult(e):(e=e.map(n.transformString.bind(n)),n.transformEndResult(e.reduce(n.processSubstitutions.bind(n,r))))},r.length>0&&Array.isArray(r[0])&&(r=r[0]),this.transformers=r.map((function(e){return"function"==typeof e?e():e})),this.tag}return o(e,[{key:"interimTag",value:function(e,n){for(var t=arguments.length,r=Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];return this.tag(s,e.apply(void 0,[n].concat(r)))}},{key:"processSubstitutions",value:function(e,n,t){var r=this.transformSubstitution(e.shift(),n);return"".concat(n,r,t)}},{key:"transformString",value:function(e){return this.transformers.reduce((function(e,n){return n.onString?n.onString(e):e}),e)}},{key:"transformSubstitution",value:function(e,n){return this.transformers.reduce((function(e,t){return t.onSubstitution?t.onSubstitution(e,n):e}),e)}},{key:"transformEndResult",value:function(e){return this.transformers.reduce((function(e,n){return n.onEndResult?n.onEndResult(e):e}),e)}}]),e}(),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{onEndResult:function(n){if(""===e)return n.trim();if("start"===(e=e.toLowerCase())||"left"===e)return n.replace(/^\s*/,"");if("end"===e||"right"===e)return n.replace(/\s*$/,"");throw new Error("Side not supported: "+e)}}};function c(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";return{onEndResult:function(n){if("initial"===e){var t=n.match(/^[^\S\n]*(?=\S)/gm),r=t&&Math.min.apply(Math,c(t.map((function(e){return e.length}))));if(r){var i=new RegExp("^.{"+r+"}","gm");return n.replace(i,"")}return n}if("all"===e)return n.replace(/^[^\S\n]+/gm,"");throw new Error("Unknown type: "+e)}}},p=function(e,n){return{onEndResult:function(t){if(null==e||null==n)throw new Error("replaceResultTransformer requires at least 2 arguments.");return t.replace(e,n)}}},f=function(e,n){return{onSubstitution:function(t,r){if(null==e||null==n)throw new Error("replaceSubstitutionTransformer requires at least 2 arguments.");return null==t?t:t.toString().replace(e,n)}}},d={separator:"",conjunction:"",serial:!1},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return{onSubstitution:function(n,t){if(Array.isArray(n)){var r=n.length,i=e.separator,o=e.conjunction,s=e.serial,a=t.match(/(\n?[^\S\n]+)$/);if(n=a?n.join(i+a[1]):n.join(i+" "),o&&r>1){var l=n.lastIndexOf(i);n=n.slice(0,l)+(s?i:"")+" "+o+n.slice(l+1)}}return n}}},m=function(e){return{onSubstitution:function(n,t){if(null==e||"string"!=typeof e)throw new Error("You need to specify a string character to split by.");return"string"==typeof n&&n.includes(e)&&(n=n.split(e)),n}}},b=function(e){return null!=e&&!Number.isNaN(e)&&"boolean"!=typeof e},g=function(){return{onSubstitution:function(e){return Array.isArray(e)?e.filter(b):b(e)?e:""}}},v=(new a(h({separator:","}),u,l),new a(h({separator:",",conjunction:"and"}),u,l),new a(h({separator:",",conjunction:"or"}),u,l),new a(m("\n"),g,h,u,l));new a(m("\n"),h,u,l,f(/&/g,"&amp;"),f(/</g,"&lt;"),f(/>/g,"&gt;"),f(/"/g,"&quot;"),f(/'/g,"&#x27;"),f(/`/g,"&#x60;")),new a(p(/(?:\n(?:\s*))+/g," "),l),new a(p(/(?:\n\s*)/g,""),l),new a(h({separator:","}),p(/(?:\s+)/g," "),l),new a(h({separator:",",conjunction:"or"}),p(/(?:\s+)/g," "),l),new a(h({separator:",",conjunction:"and"}),p(/(?:\s+)/g," "),l),new a(h,u,l),new a(h,p(/(?:\s+)/g," "),l),new a(u,l),new a(u("all"),l),t(2),t(4),t(6),t(8);function _(){const e=function(e,n){n||(n=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}(['\n            <div class="logo anchorImg__wrapper">\n                <img\n                        class="logo__image"\n                        alt="Lemmas logo"\n                        src="/static/assets/img/lemmaslogo.png"\n                />\n                <a\n                    href="','"\n                    class="anchorImg__position-absolute"\n                >\n                </a>\n            </div>\n        ']);return _=function(){return e},e}var y=class{renderString(){return v(_(),fe.INDEX_PAGE_ROUTE)}};t(10);function w(){const e=S(['\n            <a class="button ','" href="#">\n                ',"\n            </a>\n        "]);return w=function(){return e},e}function x(){const e=S(['\n            <a class="button ','" href="','">\n                ',"\n            </a>\n        "]);return x=function(){return e},e}function S(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}class E{constructor(e){let{text:n,href:t="",extraClass:r=""}=e;this.text=n,this.href=t,this.extraClass=r}renderString(){return v(x(),this.extraClass,this.href,this.text)}}class R{constructor(e,n){let{text:t,onClick:r,extraClass:i=""}=n;this.parent=e,this.text=t,this.onClick=r,this.extraClass=i}render(){this.parent.innerHTML=v(w(),this.extraClass,this.text),this.parent.querySelector(".button").addEventListener("click",this.onClick)}}const O="https://quiet-depths-50475.herokuapp.com",T={USER_LIST_PATH:"/api/v1/user/list",USER_SETIINGS_PATH:"/api/v1/user/update",CURRENT_USER_PROFILE_PATH:"/api/v1/user/me",USER_LOGIN_PATH:"/api/v1/user/login",USER_LOGOUT_PATH:"/api/v1/user/logout",USER_REGISTER_PATH:"/api/v1/user/register",USER_PIC_PATH:"/api/v1/user/avatar/upload"};class j{static registerUser(e,n,t){return this._post(T.USER_REGISTER_PATH,{email:e,name:n,password:t})}static changeUserData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this._post(T.USER_SETIINGS_PATH,{name:e,password:n})}static changeAvatar(e){return this._postMultipart(T.USER_PIC_PATH,e)}static loginUser(e,n){return this._post(T.USER_LOGIN_PATH,{email:e,password:n})}static logoutUser(){return this._post(T.USER_LOGOUT_PATH)}static currentUserProfile(){return this._get(T.CURRENT_USER_PROFILE_PATH).then(e=>e?e.user:null)}static listUsers(){return this._get(T.USER_LIST_PATH).then(e=>e?e.users:null)}static _get(e){const n=O+e;return this._processResponse(n,fetch(n,{method:"GET",mode:"cors",origin:!0,credentials:"include"}))}static _postMultipart(e,n){const t=O+e;return this._processResponse(t,fetch(t,{method:"POST",mode:"cors",origin:!0,credentials:"include",body:n}))}static _post(e,n){const t=O+e;return this._processResponse(t,fetch(t,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json;charset=utf-8"},origin:!0,credentials:"include",body:JSON.stringify(n)}))}static _processResponse(e,n){return n.then(e=>e.json()).then(n=>("error"===n.status&&this._processResponseError(e,n),null!==n.body?n.body:n))}static _processResponseError(e,n){console.error("API request failed. \n".concat(e,"\n ").concat(n.body.message))}}let P=null;class U{static async user(){return P=await j.currentUserProfile()}}t(12);function z(){const e=A(["\n                ","\n                ","\n            "]);return z=function(){return e},e}function L(){const e=A(['\n                <span class="logout-button-wrapper"></span>\n            ']);return L=function(){return e},e}function A(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}class C{constructor(e){this.parent=e,this._onLogoutButtonClick=this._onLogoutButtonClick.bind(this)}async render(){if(null!=await U.user()){this.parent.innerHTML=v(L());const e=this.parent.querySelector(".logout-button-wrapper");new R(e,{text:"LOGOUT",extraClass:"button__transparency-transparent",onClick:this._onLogoutButtonClick}).render()}else this.parent.innerHTML=v(z(),new E({text:"LOGIN",href:fe.USER_LOGIN_PAGE_ROUTE,extraClass:"button__transparency-transparent"}).renderString(),new E({text:"REGISTER",href:fe.USER_REGISTER_PAGE_ROUTE}).renderString())}async _onLogoutButtonClick(){await j.logoutUser(),location.reload()}}function I(){const e=function(e,n){n||(n=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}(["\n            ",'\n            <div class="menu"></div>\n        ']);return I=function(){return e},e}class k{constructor(e){this.parent=e}render(){this.parent.innerHTML=v(I(),(new y).renderString()),new C(this.parent.querySelector(".menu")).render()}}t(14),t(16);function q(){const e=function(e,n){n||(n=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}(['\n            <header class="header"></header>\n            <div class="content"></div>\n        ']);return q=function(){return e},e}class F{render(){document.body.innerHTML=v(q()),new k(document.querySelector(".header")).render(),this.renderContent(document.querySelector(".content"))}renderContent(){}}t(18);function G(){const e=function(e,n){n||(n=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}(['\n            <div class="leaderboard">\n                ',"\n            </div>\n        "]);return G=function(){return e},e}class N{constructor(e){this.parent=e}async render(){const e=await U.user(),n=await j.listUsers();this.parent.innerHTML=v(G(),n.map(n=>'\n                    <div class="leaderboard__player '.concat(e&&n.id==e.id?"leaderboard__player-me":"",'">\n                        ').concat(n.id,". ").concat(n.name,"\n                    </div>\n                    ")))}}t(20);function M(){const e=function(e,n){n||(n=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}(['\n            <div class="userAchievement">\n                <p>',"</p>\n                <p>","</p>\n            </div>\n        "]);return M=function(){return e},e}class H{constructor(e,n){this.name=e,this.value=n}renderString(){return v(M(),this.name,this.value)}}t(22);function D(){const e=V(['\n                <div class="userPicName">\n                    <div class="anchorImg__wrapper">\n                        <img\n                            class="userPicName__img"\n                            alt="userpic"\n                            src="',"/",'"\n                        />\n                        \n                        <a\n                            href="','"\n                            class="anchorImg__position-absolute"\n                        ></a>\n                    </div>\n                    <a\n                        class="userPicName__name"\n                        href="','"\n                    >\n                        ',"\n                    </a>\n                </div>\n                ","\n                ","\n                ","\n            "]);return D=function(){return e},e}function B(){const e=V(['\n                <p>\n                    <a href="','">Log in</a> to\n                    play!\n                </p>\n            ']);return B=function(){return e},e}function V(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}const W="https://quiet-depths-50475.herokuapp.com";class X{constructor(e){this.parent=e}start(){this.preRender().then(e=>{this.render(e)})}preRender(){return U.user()}async render(e){this.parent.innerHTML=null===e?v(B(),fe.USER_LOGIN_PAGE_ROUTE):v(D(),W,e.avatar_path,fe.USER_PROFILE_PAGE_ROUTE,fe.USER_PROFILE_PAGE_ROUTE,e.name,new H("XP","100").renderString(),new H("Coins","130").renderString(),new E({text:"Shop",href:"shop",extraClass:"button__size-big button__color-violet"}).renderString())}}function J(){const e=function(e,n){n||(n=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}(['\n            <div class="plate">\n                <h2 class="text__align-center">Leaderboard</h2>\n                <div class="leaderboard-wrapper"></div>\n            </div>\n            <div class="plate plate__size-big start-game-menu">\n                <h2 class="text__size-big text__align-center">Play</h2>\n                ',"\n                ","\n                ",'\n            </div>\n            <div class="plate user-info-wrapper"></div>\n        ']);return J=function(){return e},e}class $ extends F{renderContent(e){e.innerHTML=v(J(),new E({text:"Singleplayer",extraClass:"button__size-big button__transparency-transparent"}).renderString(),new E({text:"Multiplayer",extraClass:"button__size-big button__color-yellow"}).renderString(),new E({text:"Experimental",extraClass:"button__size-big button__color-red"}).renderString());const n=e.querySelector(".leaderboard-wrapper");new N(n).render();const t=e.querySelector(".user-info-wrapper");new X(t).start()}}t(24);function Y(){const e=function(e,n){n||(n=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}(['\n            <form class="form ','">\n                ','\n            </form>\n            <span class="form__error">Error</span>\n        ']);return Y=function(){return e},e}class K{constructor(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.parent=e,this.elements=n,this.onSubmit=t,this.big=r}render(){this.parent.innerHTML=v(Y(),this.big?"form__size-big":"",this.elements.map(e=>e.renderString())),this.parent.querySelector(".form").addEventListener("submit",this.onSubmit)}getValue(e){return this.parent.querySelector(".form ."+e).value}}t(26),t(28);function Q(){const e=ee(['\n                  <label class="form__field__label">',"</label>\n              "]);return Q=function(){return e},e}function Z(){const e=ee(['\n            <div class="form__field-wrapper">\n                ','\n                <input\n                    type="','"\n                    class="form__field ','"\n                    placeholder="','"\n                    ',"\n                    ","\n                />\n            </div>\n        "]);return Z=function(){return e},e}function ee(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}class ne{constructor(e){let{name:n,label:t,type:r="text",required:i=!1,placeholder:o=null,disabled:s=!1}=e;this.name=n,this.label=t,this.type=r,this.required=i,this.placeholder=o||t,this.disabled=s}renderString(){return v(Z(),this.renderLabel(),this.type,this.name,this.placeholder,this.required?"required":"",this.disabled?"disabled":"")}renderLabel(){return null===this.label?"":v(Q(),this.label)}}function te(){const e=function(e,n){n||(n=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}(['\n            <div class="form__field-wrapper">\n                <button type="submit" class="form__field button ','">\n                    ',"\n                </button>\n            </div>\n        "]);return te=function(){return e},e}class re{constructor(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.text=e,this.color=n}renderString(){const e=this.color?"button__color-"+this.color:"";return v(te(),e,this.text)}}function ie(){const e=function(e,n){n||(n=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}(['\n            <div class="plate plate__size-big">\n                <h2 class="text__align-center text__size-big">Login</h2>\n                <div class="form-wrapper"></div>\n                <p>\n                    Don\'t have an account?\n                    <a href="','">Register</a>\n                </p>\n            </div>\n        ']);return ie=function(){return e},e}class oe extends F{constructor(){super(),this.onLoginFormSubmit=this.onLoginFormSubmit.bind(this)}renderContent(e){e.innerHTML=v(ie(),fe.USER_REGISTER_PAGE_ROUTE);const n=[new ne({name:"email",label:"Email",required:!0}),new ne({name:"password",label:"Password",type:"password",required:!0}),new re("Login","lavender")];this.loginForm=new K(e.querySelector(".form-wrapper"),n,this.onLoginFormSubmit,!0),this.loginForm.render()}onLoginFormSubmit(e){e.preventDefault(),document.querySelector("body").style.filter="blur(4px)";const n=this.loginForm.getValue("email"),t=this.loginForm.getValue("password"),r=document.querySelector(".form__error");return n.match(/.+@.+\..+/)?t.length<6?(r.innerText="Wrong email or password!",void(r.style.visibility="visible")):void this.login(n,t,r):(r.innerText="Wrong email format!",void(r.style.visibility="visible"))}login(e,n,t){j.loginUser(e,n).then(async e=>{null===e?(t.innerText="Wrong email or password!",t.style.visibility="visible"):(window.history.pushState({},document.querySelector("title").innerText,"/"),(new de).renderPage())}).finally(document.querySelector("body").style.filter="none")}}function se(){const e=function(e,n){n||(n=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}(['\n            <div class="plate plate__size-big">\n                <h2 class="text__align-center text__size-big">Register</h2>\n                <div class="form-wrapper"></div>\n            </div>\n        ']);return se=function(){return e},e}class ae extends F{constructor(){super(),this.onRegisterFormSubmit=this.onRegisterFormSubmit.bind(this)}renderContent(e){e.innerHTML=v(se());const n=[new ne({name:"email",label:"Email",type:"email",required:!0}),new ne({name:"name",label:"Name",required:!0}),new ne({name:"password",label:"Password",type:"password",required:!0}),new ne({name:"password-repeat",label:"Repeat password",type:"password",required:!0}),new re("Register","lavender")];this.registerForm=new K(e.querySelector(".form-wrapper"),n,this.onRegisterFormSubmit,!0),this.registerForm.render()}onRegisterFormSubmit(e){e.preventDefault();const n=this.registerForm.getValue("email"),t=this.registerForm.getValue("name"),r=this.registerForm.getValue("password"),i=this.registerForm.getValue("password-repeat"),o=document.querySelector(".form__error");return 0===n.length?(o.innerText="Empty email!",void(o.style.visibility="visible")):0===t.length?(o.innerText="Empty name!",void(o.style.visibility="visible")):0===r.length?(o.innerText="Empty password!",void(o.style.visibility="visible")):0===i.length?(o.innerText="Please repeat password!",void(o.style.visibility="visible")):n.match(/.+@.+\..+/)?r.length<6?(o.innerText="Password must be 6 letters or more!",void(o.style.visibility="visible")):r!==i?(o.innerText="Passwords don't match!!",void(o.style.visibility="visible")):void j.registerUser(n,t,r).then(e=>{"ok"!==e.status?(o.innerText="User already exists!",o.style.visibility="visible"):oe.prototype.login(n,r,o)}):(o.innerText="Wrong email format!",void(o.style.visibility="visible"))}}function le(){const e=function(e,n){n||(n=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}(['\n            <div class="plate plate__size-big">\n                <h2 class="text__align-center text__size-big">Edit profile</h2>\n                <div class="form-wrapper"></div>\n            </div>\n        ']);return le=function(){return e},e}class ce extends F{constructor(){super(),this.onEditProfileFormSubmit=this.onEditProfileFormSubmit.bind(this)}renderContent(e){e.innerHTML=v(le());const n=[new ne({name:"name",label:"Name"}),new ne({name:"password",label:"Password",type:"password"}),new ne({name:"password-repeat",label:"Repeat password",type:"password"}),new ne({name:"avatar",label:"User pic",type:"file"}),new re("Save","lavender")];this.profileForm=new K(e.querySelector(".form-wrapper"),n,this.onEditProfileFormSubmit,!0),this.profileForm.render(),document.querySelector('input[type="password"').autocomplete="new-password"}onEditProfileFormSubmit(e){e.preventDefault(),document.querySelector("body").style.filter="blur(4px)";const n=this.profileForm.getValue("name"),t=this.profileForm.getValue("password"),r=this.profileForm.getValue("password-repeat"),i=document.querySelector('input[type="file"]'),o=document.querySelector(".form__error");o.style.visibility="hidden",o.style.color="red";let s=!1;if(t.length<6&&t.length>1)return o.innerText="Password must be 6 letters or more!",void(o.style.visibility="visible");if(t!==r)return o.innerText="Passwords don't match!!",void(o.style.visibility="visible");if(j.changeUserData(n,t).then(e=>{null===e?(o.innerText="Wrong name or password!",o.style.visibility="visible"):s=!0}),void 0!==i.files[0]){const e=new FormData;e.append("avatar",i.files[0]),j.changeAvatar(e).then(e=>{null===e?(o.innerText="Something went wrong!",o.style.visibility="visible"):(console.log(s),s=!0)})}!0===s&&(o.innerText="Success!",o.style.visibility="visible",o.style.color="green"),document.querySelector("body").style.filter="none"}}function ue(){const e=function(e,n){n||(n=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}(['\n            <div class="plate plate__size-big">\n                <h2 class="text__size-big text__align-center">404</h2>\n                <p>NOT FOUND :(</p>\n            </div>\n        ']);return ue=function(){return e},e}class pe extends F{renderContent(e){e.innerHTML=v(ue())}}const fe={INDEX_PAGE_ROUTE:"/",USER_LOGIN_PAGE_ROUTE:"/user/login",USER_REGISTER_PAGE_ROUTE:"/user/register",USER_PROFILE_PAGE_ROUTE:"/user/profile"};class de{constructor(){this.routes={},this.routes[fe.INDEX_PAGE_ROUTE]=$,this.routes[fe.USER_LOGIN_PAGE_ROUTE]=oe,this.routes[fe.USER_REGISTER_PAGE_ROUTE]=ae,this.routes[fe.USER_PROFILE_PAGE_ROUTE]=ce}getView(e){return this.routes[e]?new this.routes[e]:new pe}renderPage(){const e=location.pathname;(this.routes[e]?new this.routes[e]:new pe).render()}}function he(){(new de).getView(location.pathname).render()}window.onpopstate=()=>{he()},window.addEventListener("DOMContentLoaded",he),document.addEventListener("click",e=>{if("A"!==e.target.tagName)return;const n=e.target.getAttribute("href");n!==location.pathname&&""!==n&&null!==n?(e.preventDefault(),window.history.pushState({},document.querySelector("title").innerText,n),he()):e.preventDefault()})}]);